{"tasks":[{"environment":{},"displayName":"Task group: AKS-Monitoring","alwaysRun":true,"continueOnError":true,"condition":"succeededOrFailed()","enabled":true,"timeoutInMinutes":0,"inputs":{"Task.Location":"$(Location)","Task.Monitoring.AgEmailReceivers":"$(monInfraAgEmailReceivers)","Task.Monitoring.ResourceGroup":"$(monInfraRg)","Task.Monitoring.slackUri":"$(slackUriSecureVariable)","Task.Subscription":"$(Task.Subscription)"},"task":{"id":"ca2abab5-2cc6-4b4e-9d0d-fca7c6f0462a","versionSpec":"1.*","definitionType":"metaTask"}},{"environment":{},"displayName":"Task group: AKS-VNet","alwaysRun":true,"continueOnError":true,"condition":"succeededOrFailed()","enabled":true,"timeoutInMinutes":0,"inputs":{"Task.AKS.ClusterName":"$(aksClusterName)","Task.AKS.ResourceGroup":"$(aksResourceGroup)","Task.AKS.SubnetCidr":"","Task.AKS.VnetCidr":"","Task.Location":"$(Location)","Task.Subscription":"$(Task.Subscription)"},"task":{"id":"30ebc785-94bb-45b0-b34b-f4b275b4531d","versionSpec":"1.*","definitionType":"metaTask"}},{"environment":{},"displayName":"Task group: AKS-Cluster","alwaysRun":true,"continueOnError":true,"condition":"succeededOrFailed()","enabled":true,"timeoutInMinutes":0,"inputs":{"Task.AcrName":"$(acrName)","Task.AKS.Client.Id":"$(aksClientAppId)","Task.AKS.ClusterName":"$(aksClusterName)","Task.AKS.ResourceGroup":"$(aksResourceGroup)","Task.AKS.ServerApp.Id":"$(aksServerAppId)","Task.AKS.ServerApp.Secret":"","Task.AKS.Sp.Id":"$(aksServicePrincipalId)","Task.AKS.Sp.Secret":"","Task.AKS.SshPublicKey":"$(aksSshPublicKey)","Task.AKS.SubnetId":"$(aksSubnetId)","Task.Location":"$(Location)","Task.Subscription":"$(Task.Subscription)","Task.Tenant.Id":"$(aksTenantId)","Task.Workspace.Id":"$(workspaceID)"},"task":{"id":"942255cd-61d8-4b56-9cbd-fed9e3f62907","versionSpec":"1.*","definitionType":"metaTask"}},{"environment":{},"displayName":"Task group: AKS-Cluster-Post","alwaysRun":true,"continueOnError":true,"condition":"succeededOrFailed()","enabled":true,"timeoutInMinutes":0,"inputs":{"Location":"$(Location)","Task.AKS.ClusterName.Mi":"","Task.AKS.ResourceGroup":"$(aksResourceGroup)","Task.KeyVault":"$(keyvaultName)","Task.Subscription":"$(Task.Subscription)"},"task":{"id":"4dbe2ca7-5b8a-4265-a543-23b77de6cd7e","versionSpec":"1.*","definitionType":"metaTask"}},{"environment":{},"displayName":"Task group: AKS-Helm-Install","alwaysRun":true,"continueOnError":true,"condition":"succeededOrFailed()","enabled":true,"timeoutInMinutes":0,"inputs":{"Task.AKS.ClusterName":"$(aksClusterName)","Task.HelmVersion":"$(helmVersion)","Task.Subscription":"$(Task.Subscription)"},"task":{"id":"f642999d-0716-4c19-9919-ff98ae3fd3bb","versionSpec":"1.*","definitionType":"metaTask"}},{"environment":{},"displayName":"Task group: AKS-Flux-Install","alwaysRun":true,"continueOnError":true,"condition":"succeededOrFailed()","enabled":true,"timeoutInMinutes":0,"inputs":{"Task.AKS.ClusterName":"$(aksClusterName)"},"task":{"id":"f2e67dca-ada4-4f80-971a-ab1f9917df31","versionSpec":"1.*","definitionType":"metaTask"}},{"environment":{},"displayName":"Task group: AKS-Flux-Post ","alwaysRun":true,"continueOnError":true,"condition":"succeededOrFailed()","enabled":true,"timeoutInMinutes":0,"inputs":{},"task":{"id":"2d74c123-0a1e-4b8c-9676-83db5dfbdffa","versionSpec":"1.*","definitionType":"metaTask"}},{"environment":{},"displayName":"Task group: AKS-Alerts","alwaysRun":true,"continueOnError":true,"condition":"succeededOrFailed()","enabled":true,"timeoutInMinutes":0,"inputs":{"Location":"$(Location)","Task.AKS.ActionGroup":"$(outActionGroupID)","Task.AKS.ClusterName":"$(aksClusterName)","Task.AKS.Id":"$(aksID)","Task.AKS.ResourceGroup":"$(aksResourceGroup)","Task.Subscription":"$(Task.Subscription)"},"task":{"id":"61ae5bc8-dee2-4414-95ec-73def2bd7583","versionSpec":"1.*","definitionType":"metaTask"}}],"runsOn":["Agent","DeploymentGroup"],"revision":2,"createdBy":{"displayName":"Martin Palmer","id":"b0b049d4-4962-60c3-b214-94ae9fb50f1c","uniqueName":"Martin.Palmer@HMCTS.NET"},"createdOn":"2019-05-07T17:14:55.323Z","modifiedBy":{"displayName":"Martin Palmer","id":"b0b049d4-4962-60c3-b214-94ae9fb50f1c","uniqueName":"Martin.Palmer@HMCTS.NET"},"modifiedOn":"2019-05-07T17:19:16.243Z","comment":"","id":"7c8e3f78-7b32-4db8-8105-aae4cc58cbb1","name":"AKS-Full-Deployment","version":{"major":1,"minor":0,"patch":0,"isTest":false},"iconUrl":"https://cdn.vsassets.io/v/M151_20190503.6/_content/icon-meta-task.png","friendlyName":"AKS-Full-Deployment","description":"","category":"Deploy","definitionType":"metaTask","author":"Martin Palmer","demands":[],"groups":[],"inputs":[{"aliases":[],"options":{},"properties":{},"name":"acrName","label":"acrName","defaultValue":"$(acrName)","required":true,"type":"string","helpMarkDown":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"aks-sapp-secret","label":"aks-sapp-secret","defaultValue":"$(aks-sapp-secret)","required":true,"type":"string","helpMarkDown":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"aks-sp-secret","label":"aks-sp-secret","defaultValue":"$(aks-sp-secret)","required":true,"type":"string","helpMarkDown":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"aksClientAppId","label":"aksClientAppId","defaultValue":"$(aksClientAppId)","required":true,"type":"string","helpMarkDown":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"aksClusterName","label":"aksClusterName","defaultValue":"$(aksClusterName)","required":true,"type":"string","helpMarkDown":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"aksClusterName-mi","label":"aksClusterName-mi","defaultValue":"$(aksClusterName-mi)","required":true,"type":"string","helpMarkDown":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"aksID","label":"aksID","defaultValue":"","required":true,"type":"string","helpMarkDown":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"aksResourceGroup","label":"aksResourceGroup","defaultValue":"$(aksResourceGroup)","required":true,"type":"string","helpMarkDown":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"aksServerAppId","label":"aksServerAppId","defaultValue":"$(aksServerAppId)","required":true,"type":"string","helpMarkDown":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"aksServicePrincipalId","label":"aksServicePrincipalId","defaultValue":"$(aksServicePrincipalId)","required":true,"type":"string","helpMarkDown":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"aksSshPublicKey","label":"aksSshPublicKey","defaultValue":"$(aksSshPublicKey)","required":true,"type":"string","helpMarkDown":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"aksSubnetId","label":"aksSubnetId","defaultValue":"$(aksSubnetId)","required":true,"type":"string","helpMarkDown":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"aksTenantId","label":"aksTenantId","defaultValue":"$(aksTenantId)","required":true,"type":"string","helpMarkDown":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"helmVersion","label":"helmVersion","defaultValue":"$(helmVersion)","required":true,"type":"string","helpMarkDown":"Specify the version of Helm to install","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"keyvaultName","label":"keyvaultName","defaultValue":"$(keyvaultName)","required":true,"type":"string","helpMarkDown":"","groupName":""},{"aliases":[],"options":{},"properties":{"EditableOptions":"True"},"name":"Location","label":"Location","defaultValue":"$(Location)","required":true,"type":"pickList","helpMarkDown":"Location for deploying the resource group. If the resource group already exists in the subscription, then this value will be ignored.","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"monInfraAgEmailReceivers","label":"monInfraAgEmailReceivers","defaultValue":"$(monInfraAgEmailReceivers)","required":true,"type":"string","helpMarkDown":"","groupName":""},{"aliases":[],"options":{},"properties":{"EditableOptions":"True"},"name":"monInfraRg","label":"monInfraRg","defaultValue":"$(monInfraRg)","required":true,"type":"pickList","helpMarkDown":"Provide the name of a resource group.","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"outActionGroupID","label":"outActionGroupID","defaultValue":"","required":true,"type":"string","helpMarkDown":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"slackUriSecureVariable","label":"slackUriSecureVariable","defaultValue":"$(slackUriSecureVariable)","required":true,"type":"string","helpMarkDown":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"Task.Subscription","label":"Task.Subscription","defaultValue":"","required":true,"type":"connectedService:AzureRM","helpMarkDown":"Select the Azure Resource Manager subscription for the deployment.","groupName":""},{"aliases":[],"options":{"9fa43c40-be2e-4a8a-8f5a-d802639f4074":"azurerm-sandbox","0efabbc5-201e-47eb-9fca-cf11d9bbe1d0":"azurerm-nonprod","8ca9c99e-6bac-4167-a191-cca8be89f4f1":"azurerm-prod","7b6fbd2f-83a7-4b62-b33d-a2ea1699ca22":"azurerm-hmctsdemo","f69cf6ae-6cd8-430b-a269-e7f1c5a06098":"azurerm-rpetemp","cc9dd2ae-e8ce-4137-8d63-a5c161283d5e":"azurerm-qa","cef4bc08-a269-4e71-9c9d-4c3183130249":"azurerm_rpetemp_mi","dfefb825-7580-45ba-8a65-2894822e5ea1":"TEMP-DCD-RPE (a5453007-c32b-4336-9c79-3f643d817aea)"},"properties":{},"name":"workspaceID","label":"workspaceID","defaultValue":"$(workspaceID)","required":true,"type":"string","helpMarkDown":"","groupName":""}],"satisfies":[],"sourceDefinitions":[],"dataSourceBindings":[],"instanceNameFormat":"Task group: AKS-Full-Deployment $(acrName)","preJobExecution":{},"execution":{},"postJobExecution":{}}